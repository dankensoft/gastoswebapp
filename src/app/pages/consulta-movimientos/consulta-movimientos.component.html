<div class="container mt-4">
  <h3>Consulta de Movimientos</h3>

  <form class="row g-3 align-items-end">
    <div class="col-md-4">
      <label for="fechaInicio" class="form-label">Fecha Inicio</label>
      <input type="date" id="fechaInicio" class="form-control" [(ngModel)]="fechaInicio" name="fechaInicio">
    </div>

    <div class="col-md-4">
      <label for="fechaFin" class="form-label">Fecha Fin</label>
      <input type="date" id="fechaFin" class="form-control" [(ngModel)]="fechaFin" name="fechaFin">
    </div>

    <div class="col-md-4">
      <button type="button" class="btn btn-primary" (click)="buscarMovimientos()">Buscar</button>
    </div>
  </form>

  <hr>

  <div *ngIf="buscando">Cargando movimientos...</div>

  <table *ngIf="movimientos.length > 0" class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Tipo</th>
        <th>Fondo Monetario</th>
        <th>Monto</th>
        <th>Comercio</th>
        <th>Tipo Doc</th>
        <th>Observaciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let mov of movimientos">
        <td>{{ mov.fecha | date: 'yyyy-MM-dd' }}</td>
        <td>{{ mov.tipoMovimiento }}</td>
        <td>{{ mov.fondoMonetarioNombre }}</td>
        <td>{{ mov.monto | number:'1.2-2' }}</td>
        <td>{{ mov.nombreComercio || '-' }}</td>
        <td>{{ mov.tipoDocumento || '-' }}</td>
        <td>{{ mov.observaciones || '-' }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!buscando && movimientos.length === 0" class="text-muted mt-3">
    No se encontraron movimientos en el rango indicado.
  </div>
</div>
